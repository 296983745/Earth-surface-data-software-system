<template>
    <div>
        <svg ref="nodeSvg"></svg>
    </div>
</template>
  
<script>
import * as d3 from 'd3';
export default {
    name: 'MapVisualization',
    data() {
        return {
            dataJson: [
                {
                    "name": "Sierra, US, US",
                    "long": -120.51599637831002,
                    "lat": 39.58040010154586,
                    "label": 0,
                    "cluster_id": 0
                },
                {
                    "name": "Sacramento, US, US",
                    "long": -121.34425533063106,
                    "lat": 38.44932148014255,
                    "label": 0,
                    "cluster_id": 1
                },
                {
                    "name": "Santa Barbara, US, US",
                    "long": -120.03101114136744,
                    "lat": 34.538251257861944,
                    "label": 0,
                    "cluster_id": 2
                },
                {
                    "name": "Calaveras, US, US",
                    "long": -120.55413209680691,
                    "lat": 38.20460680302323,
                    "label": 0,
                    "cluster_id": 3
                },
                {
                    "name": "Ventura, US, US",
                    "long": -119.12601381181409,
                    "lat": 34.35706889210372,
                    "label": 0,
                    "cluster_id": 4
                },
                {
                    "name": "Los Angeles, US, US",
                    "long": -118.26105627665683,
                    "lat": 34.198181922187416,
                    "label": 0,
                    "cluster_id": 5
                },
                {
                    "name": "Sonoma, US, US",
                    "long": -122.92254465312695,
                    "lat": 38.52529257327967,
                    "label": 0,
                    "cluster_id": 6
                },
                {
                    "name": "Kings, US, US",
                    "long": -119.81547270473787,
                    "lat": 36.07522468831155,
                    "label": 0,
                    "cluster_id": 7
                },
                {
                    "name": "San Diego, US, US",
                    "long": -116.77020425010002,
                    "lat": 33.02818612476284,
                    "label": 0,
                    "cluster_id": 8
                },
                {
                    "name": "Placer, US, US",
                    "long": -120.71764593282475,
                    "lat": 39.063431388633845,
                    "label": 0,
                    "cluster_id": 9
                },
                {
                    "name": "Yuma, US, US",
                    "long": -113.90561880073027,
                    "lat": 32.7696188411124,
                    "label": 0,
                    "cluster_id": 10
                },
                {
                    "name": "Pinal, US, US",
                    "long": -111.34473965166285,
                    "lat": 32.90436597259921,
                    "label": 0,
                    "cluster_id": 11
                },
                {
                    "name": "Navajo, US, US",
                    "long": -110.3214193475036,
                    "lat": 35.39955033679184,
                    "label": 0,
                    "cluster_id": 12
                },
                {
                    "name": "Greenlee, US, US",
                    "long": -109.24035541173647,
                    "lat": 33.21540166902157,
                    "label": 0,
                    "cluster_id": 13
                },
                {
                    "name": "Maricopa, US, US",
                    "long": -112.49151143836727,
                    "lat": 33.349039435590235,
                    "label": 0,
                    "cluster_id": 14
                },
                {
                    "name": "Pima, US, US",
                    "long": -111.78986399449154,
                    "lat": 32.09739870528791,
                    "label": 0,
                    "cluster_id": 15
                },
                {
                    "name": "Cochise, US, US",
                    "long": -109.75126313661605,
                    "lat": 31.87963708548817,
                    "label": 0,
                    "cluster_id": 16
                },
                {
                    "name": "Coconino, US, US",
                    "long": -111.77052095742783,
                    "lat": 35.83872482862432,
                    "label": 0,
                    "cluster_id": 17
                },
                {
                    "name": "Gila, US, US",
                    "long": -110.81163686387116,
                    "lat": 33.79970236525175,
                    "label": 0,
                    "cluster_id": 18
                },
                {
                    "name": "Graham, US, US",
                    "long": -109.88745162756258,
                    "lat": 32.932662704520126,
                    "label": 0,
                    "cluster_id": 19
                },
                {
                    "name": "Saguache, US, US",
                    "long": -106.28155556178501,
                    "lat": 38.08055275484528,
                    "label": 0,
                    "cluster_id": 20
                },
                {
                    "name": "Sedgwick, US, US",
                    "long": -102.35179119474526,
                    "lat": 40.87590496413006,
                    "label": 0,
                    "cluster_id": 21
                },
                {
                    "name": "Cheyenne, US, US",
                    "long": -102.60339582390334,
                    "lat": 38.827939720656815,
                    "label": 0,
                    "cluster_id": 22
                },
                {
                    "name": "Custer, US, US",
                    "long": -105.36747176903887,
                    "lat": 38.10867790245601,
                    "label": 0,
                    "cluster_id": 23
                },
                {
                    "name": "La Plata, US, US",
                    "long": -107.84327068471862,
                    "lat": 37.28658194831169,
                    "label": 0,
                    "cluster_id": 24
                },
                {
                    "name": "San Juan, US, US",
                    "long": -107.67614727490974,
                    "lat": 37.76404307296361,
                    "label": 0,
                    "cluster_id": 25
                },
                {
                    "name": "Pitkin, US, US",
                    "long": -106.91657774898134,
                    "lat": 39.217105745221865,
                    "label": 0,
                    "cluster_id": 26
                },
                {
                    "name": "Park, US, US",
                    "long": -105.71724347336676,
                    "lat": 39.11933852035156,
                    "label": 0,
                    "cluster_id": 27
                },
                {
                    "name": "Alamosa, US, US",
                    "long": -105.78828819692856,
                    "lat": 37.57289314022097,
                    "label": 0,
                    "cluster_id": 28
                },
                {
                    "name": "Prowers, US, US",
                    "long": -102.39334897742714,
                    "lat": 37.955183185827295,
                    "label": 0,
                    "cluster_id": 29
                },
                {
                    "name": "Rich, US, US",
                    "long": -111.24450979723058,
                    "lat": 41.63225342579683,
                    "label": 0,
                    "cluster_id": 30
                },
                {
                    "name": "Cache, US, US",
                    "long": -111.74362099552184,
                    "lat": 41.72242941037327,
                    "label": 0,
                    "cluster_id": 31
                },
                {
                    "name": "Duchesne, US, US",
                    "long": -110.42518445665353,
                    "lat": 40.298242323416105,
                    "label": 0,
                    "cluster_id": 32
                },
                {
                    "name": "Davis, US, US",
                    "long": -112.11137178196732,
                    "lat": 40.99006864756092,
                    "label": 0,
                    "cluster_id": 33
                },
                {
                    "name": "Box Elder, US, US",
                    "long": -113.08202197479898,
                    "lat": 41.52101818780903,
                    "label": 0,
                    "cluster_id": 34
                },
                {
                    "name": "Millard, US, US",
                    "long": -113.10069890967559,
                    "lat": 39.07328718635787,
                    "label": 0,
                    "cluster_id": 35
                },
                {
                    "name": "Morgan, US, US",
                    "long": -111.57315035611727,
                    "lat": 41.08932043122907,
                    "label": 0,
                    "cluster_id": 36
                },
                {
                    "name": "Weber, US, US",
                    "long": -111.91338362282167,
                    "lat": 41.26984285481322,
                    "label": 0,
                    "cluster_id": 37
                },
                {
                    "name": "Kane, US, US",
                    "long": -111.887766251685,
                    "lat": 37.28509939457976,
                    "label": 0,
                    "cluster_id": 38
                },
                {
                    "name": "Salt Lake, US, US",
                    "long": -111.92360091935946,
                    "lat": 40.66731385189298,
                    "label": 0,
                    "cluster_id": 39
                },
                {
                    "name": "Calcasieu, US, US",
                    "long": -93.35800479915679,
                    "lat": 30.22929360327587,
                    "label": 0,
                    "cluster_id": 40
                },
                {
                    "name": "Union, US, US",
                    "long": -92.37480185806425,
                    "lat": 32.83189241706706,
                    "label": 0,
                    "cluster_id": 41
                },
                {
                    "name": "Tangipahoa, US, US",
                    "long": -90.40566272862623,
                    "lat": 30.62664594087925,
                    "label": 0,
                    "cluster_id": 42
                },
                {
                    "name": "Caldwell, US, US",
                    "long": -92.1165735702994,
                    "lat": 32.09237154480468,
                    "label": 0,
                    "cluster_id": 43
                },
                {
                    "name": "Tensas, US, US",
                    "long": -91.34010390611301,
                    "lat": 32.00176628631971,
                    "label": 0,
                    "cluster_id": 44
                },
                {
                    "name": "Jackson, US, US",
                    "long": -92.55778124120557,
                    "lat": 32.30204937531261,
                    "label": 0,
                    "cluster_id": 45
                },
                {
                    "name": "Grant, US, US",
                    "long": -92.559486723731,
                    "lat": 31.599733455616352,
                    "label": 0,
                    "cluster_id": 46
                },
                {
                    "name": "Lincoln, US, US",
                    "long": -92.66488722582021,
                    "lat": 32.601619365204414,
                    "label": 0,
                    "cluster_id": 47
                },
                {
                    "name": "Jefferson Davis, US, US",
                    "long": -92.8141218413828,
                    "lat": 30.267712855878536,
                    "label": 0,
                    "cluster_id": 48
                },
                {
                    "name": "Lafayette, US, US",
                    "long": -92.06390464473742,
                    "lat": 30.20683254228528,
                    "label": 0,
                    "cluster_id": 49
                },
                {
                    "name": "McDuffie, US, US",
                    "long": -82.481399447163,
                    "lat": 33.482833112607274,
                    "label": 0,
                    "cluster_id": 50
                },
                {
                    "name": "Brantley, US, US",
                    "long": -81.98189236382535,
                    "lat": 31.19687611183492,
                    "label": 0,
                    "cluster_id": 51
                },
                {
                    "name": "Lamar, US, US",
                    "long": -84.1394626558931,
                    "lat": 33.07653575835191,
                    "label": 0,
                    "cluster_id": 52
                },
                {
                    "name": "Floyd, US, US",
                    "long": -85.21427864507162,
                    "lat": 34.26316269149023,
                    "label": 0,
                    "cluster_id": 53
                },
                {
                    "name": "Terrell, US, US",
                    "long": -84.43692220132563,
                    "lat": 31.77688098636072,
                    "label": 0,
                    "cluster_id": 54
                },
                {
                    "name": "Clayton, US, US",
                    "long": -84.35766776579045,
                    "lat": 33.541900770891196,
                    "label": 0,
                    "cluster_id": 55
                },
                {
                    "name": "Columbia, US, US",
                    "long": -82.26409652914096,
                    "lat": 33.54412079712805,
                    "label": 0,
                    "cluster_id": 56
                },
                {
                    "name": "Macon, US, US",
                    "long": -84.04247941309393,
                    "lat": 32.358382594538995,
                    "label": 0,
                    "cluster_id": 57
                },
                {
                    "name": "Charlton, US, US",
                    "long": -82.13768814116608,
                    "lat": 30.781727201573513,
                    "label": 0,
                    "cluster_id": 58
                },
                {
                    "name": "Polk, US, US",
                    "long": -85.18815338218786,
                    "lat": 34.00178448544973,
                    "label": 0,
                    "cluster_id": 59
                },
                {
                    "name": "Sendai, Japan, Aisa",
                    "long": 140.891013326743,
                    "lat": 38.2539960566665,
                    "label": 0,
                    "cluster_id": 60
                },
                {
                    "name": "Tokyo, Japan, Aisa",
                    "long": 139.809006365241,
                    "lat": 35.683002048058,
                    "label": 0,
                    "cluster_id": 61
                },
                {
                    "name": "Hiroshima, Japan, Aisa",
                    "long": 132.445008359934,
                    "lat": 34.378002049858,
                    "label": 0,
                    "cluster_id": 62
                },
                {
                    "name": "Kyoto, Japan, Aisa",
                    "long": 135.755001420906,
                    "lat": 35.0090010053628,
                    "label": 0,
                    "cluster_id": 63
                },
                {
                    "name": "Kita Kyushu, Japan, Aisa",
                    "long": 130.797450402664,
                    "lat": 33.681860948418,
                    "label": 0,
                    "cluster_id": 64
                },
                {
                    "name": "Arendal, Norway, Europe",
                    "long": 8.76600038123905,
                    "lat": 58.4647559500436,
                    "label": 1,
                    "cluster_id": 65
                },
                {
                    "name": "Edinburgh, United Kingdom, Europe",
                    "long": -3.24999862133268,
                    "lat": 55.9240019288395,
                    "label": 1,
                    "cluster_id": 66
                },
                {
                    "name": "Liestal, Switzerland, Europe",
                    "long": 7.73700329669259,
                    "lat": 47.483001022396,
                    "label": 1,
                    "cluster_id": 67
                },
                {
                    "name": "Jonkoping, Sweden, Europe",
                    "long": 14.177997328495,
                    "lat": 57.7860030440786,
                    "label": 1,
                    "cluster_id": 68
                },
                {
                    "name": "Stockholm, Sweden, Europe",
                    "long": 17.9914504270049,
                    "lat": 59.3311679873094,
                    "label": 1,
                    "cluster_id": 69
                },
                {
                    "name": "Southampton, United Kingdom, Europe",
                    "long": -1.40000367652516,
                    "lat": 50.9000039260109,
                    "label": 1,
                    "cluster_id": 70
                },
                {
                    "name": "Bodo, Norway, Europe",
                    "long": 14.3342463374382,
                    "lat": 67.2408089732329,
                    "label": 1,
                    "cluster_id": 71
                },
                {
                    "name": "Molde, Norway, Europe",
                    "long": 7.16400040627406,
                    "lat": 62.7360030429577,
                    "label": 1,
                    "cluster_id": 72
                },
                {
                    "name": "Vaxjo, Sweden, Europe",
                    "long": 14.8220013137975,
                    "lat": 56.8839959682017,
                    "label": 1,
                    "cluster_id": 73
                },
                {
                    "name": "Mariehamn, Finland, Europe",
                    "long": 19.9490042892361,
                    "lat": 60.0969960778967,
                    "label": 1,
                    "cluster_id": 74
                },
                {
                    "name": "Zurich, Switzerland, Europe",
                    "long": 8.53399841414227,
                    "lat": 47.4010020490151,
                    "label": 1,
                    "cluster_id": 75
                },
                {
                    "name": "Tripoli, Greece, Europe",
                    "long": 22.3689964447627,
                    "lat": 37.5080039958388,
                    "label": 1,
                    "cluster_id": 76
                },
                {
                    "name": "Basel, Switzerland, Europe",
                    "long": 7.57600242447961,
                    "lat": 47.5470000072145,
                    "label": 1,
                    "cluster_id": 77
                },
                {
                    "name": "Caen, France, Europe",
                    "long": -0.336995562951643,
                    "lat": 49.1750009401738,
                    "label": 1,
                    "cluster_id": 78
                },
                {
                    "name": "Visby, Sweden, Europe",
                    "long": 18.2999973570477,
                    "lat": 57.635001025513,
                    "label": 1,
                    "cluster_id": 79
                },
                {
                    "name": "Lille, France, Europe",
                    "long": 3.06299744083299,
                    "lat": 50.6320019817891,
                    "label": 1,
                    "cluster_id": 80
                },
                {
                    "name": "Larisa, Greece, Europe",
                    "long": 22.4190003110514,
                    "lat": 39.6399960033979,
                    "label": 1,
                    "cluster_id": 81
                },
                {
                    "name": "Salzburg, Austria, Europe",
                    "long": 13.0519983565538,
                    "lat": 47.8080000068547,
                    "label": 1,
                    "cluster_id": 82
                },
                {
                    "name": "Le Havre, France, Europe",
                    "long": 0.118431353193387,
                    "lat": 49.5022319682255,
                    "label": 1,
                    "cluster_id": 83
                },
                {
                    "name": "Skien, Norway, Europe",
                    "long": 9.61499741467714,
                    "lat": 59.2070039430853,
                    "label": 1,
                    "cluster_id": 84
                },
                {
                    "name": "Karlskrona, Sweden, Europe",
                    "long": 15.2960044326059,
                    "lat": 56.2030020825257,
                    "label": 1,
                    "cluster_id": 85
                },
                {
                    "name": "Malmo, Sweden, Europe",
                    "long": 13.0230003240106,
                    "lat": 55.5959969337142,
                    "label": 1,
                    "cluster_id": 86
                },
                {
                    "name": "Vaasa, Finland, Europe",
                    "long": 21.6090003292877,
                    "lat": 63.0939959938746,
                    "label": 1,
                    "cluster_id": 87
                },
                {
                    "name": "Rouen, France, Europe",
                    "long": 1.07700339147323,
                    "lat": 49.4319960697811,
                    "label": 1,
                    "cluster_id": 88
                },
                {
                    "name": "Polygyros, Greece, Europe",
                    "long": 23.4530012904806,
                    "lat": 40.3810020415784,
                    "label": 1,
                    "cluster_id": 89
                },
                {
                    "name": "Bergen, Norway, Europe",
                    "long": 5.4906844210218,
                    "lat": 60.3500040442228,
                    "label": 1,
                    "cluster_id": 90
                },
                {
                    "name": "Rome, Italy, Europe",
                    "long": 12.519999338143,
                    "lat": 41.8799970439333,
                    "label": 1,
                    "cluster_id": 91
                },
                {
                    "name": "Trento, Italy, Europe",
                    "long": 11.1200044383655,
                    "lat": 46.0680030431216,
                    "label": 1,
                    "cluster_id": 92
                },
                {
                    "name": "Kerkya, Greece, Europe",
                    "long": 19.9199973205753,
                    "lat": 39.6199979651359,
                    "label": 1,
                    "cluster_id": 93
                },
                {
                    "name": "Teesport, United Kingdom, Europe",
                    "long": -1.16669670529302,
                    "lat": 54.6000030827108,
                    "label": 1,
                    "cluster_id": 94
                },
                {
                    "name": "Patras, Greece, Europe",
                    "long": 21.8831763033452,
                    "lat": 38.1412349949369,
                    "label": 1,
                    "cluster_id": 95
                },
                {
                    "name": "Orebro, Sweden, Europe",
                    "long": 15.2289994371206,
                    "lat": 59.2800029221849,
                    "label": 1,
                    "cluster_id": 96
                },
                {
                    "name": "Paris, France, Europe",
                    "long": 2.3549531482218,
                    "lat": 48.8582874334995,
                    "label": 1,
                    "cluster_id": 97
                },
                {
                    "name": "Bologna, Italy, Europe",
                    "long": 11.3339973152986,
                    "lat": 44.5030020701312,
                    "label": 1,
                    "cluster_id": 98
                },
                {
                    "name": "Schaffhausen, Switzerland, Europe",
                    "long": 8.6329983512361,
                    "lat": 47.7060029952116,
                    "label": 1,
                    "cluster_id": 99
                },
                {
                    "name": "Ringkobing, Denmark, Europe",
                    "long": 8.25399940109014,
                    "lat": 56.0840039416864,
                    "label": 1,
                    "cluster_id": 100
                },
                {
                    "name": "Cardiff, United Kingdom, Europe",
                    "long": -3.21666260015104,
                    "lat": 51.4833389541661,
                    "label": 1,
                    "cluster_id": 101
                },
                {
                    "name": "Solothurn, Switzerland, Europe",
                    "long": 7.5369964366879,
                    "lat": 47.2120020036251,
                    "label": 1,
                    "cluster_id": 102
                },
                {
                    "name": "Altdorf, Switzerland, Europe",
                    "long": 8.6380024116022,
                    "lat": 46.8790020497351,
                    "label": 1,
                    "cluster_id": 103
                },
                {
                    "name": "Trieste, Italy, Europe",
                    "long": 13.7770022903877,
                    "lat": 45.6450029809353,
                    "label": 1,
                    "cluster_id": 104
                },
                {
                    "name": "Kouvola, Finland, Europe",
                    "long": 26.7090033218825,
                    "lat": 60.875999977418,
                    "label": 1,
                    "cluster_id": 105
                },
                {
                    "name": "Thessaloniki, Greece, Europe",
                    "long": 22.7999973108969,
                    "lat": 40.6299960362704,
                    "label": 1,
                    "cluster_id": 106
                },
                {
                    "name": "Hunterston, United Kingdom, Europe",
                    "long": -4.85677759888756,
                    "lat": 55.7367480670198,
                    "label": 1,
                    "cluster_id": 107
                },
                {
                    "name": "Orleans, France, Europe",
                    "long": 1.90600238664928,
                    "lat": 47.9140020540138,
                    "label": 1,
                    "cluster_id": 108
                },
                {
                    "name": "Joensuu, Finland, Europe",
                    "long": 29.7790023824437,
                    "lat": 62.5979969525885,
                    "label": 1,
                    "cluster_id": 109
                },
                {
                    "name": "Luzern, Switzerland, Europe",
                    "long": 8.30300440801278,
                    "lat": 47.0580030759941,
                    "label": 1,
                    "cluster_id": 110
                },
                {
                    "name": "Delemont, Switzerland, Europe",
                    "long": 7.34499931674884,
                    "lat": 47.3699970306549,
                    "label": 1,
                    "cluster_id": 111
                },
                {
                    "name": "Steinkjer, Norway, Europe",
                    "long": 11.4990033885115,
                    "lat": 64.0140030583141,
                    "label": 1,
                    "cluster_id": 112
                },
                {
                    "name": "Manchester, United Kingdom, Europe",
                    "long": -2.26178068198436,
                    "lat": 53.4796649757786,
                    "label": 1,
                    "cluster_id": 113
                },
                {
                    "name": "Dijon, France, Europe",
                    "long": 5.03600433263011,
                    "lat": 47.3180040507844,
                    "label": 1,
                    "cluster_id": 114
                },
                {
                    "name": "Aarau, Switzerland, Europe",
                    "long": 8.03400343894123,
                    "lat": 47.3900040050345,
                    "label": 1,
                    "cluster_id": 115
                },
                {
                    "name": "Vossavangen, Norway, Europe",
                    "long": 6.44100329277364,
                    "lat": 60.6300030572751,
                    "label": 1,
                    "cluster_id": 116
                },
                {
                    "name": "Steuben, US, US",
                    "long": -77.3838024833927,
                    "lat": 42.26781794791714,
                    "label": 1,
                    "cluster_id": 117
                },
                {
                    "name": "Saratoga, US, US",
                    "long": -73.86391915696136,
                    "lat": 43.107368661475505,
                    "label": 1,
                    "cluster_id": 118
                },
                {
                    "name": "Allegany, US, US",
                    "long": -78.02754896194205,
                    "lat": 42.25737345504465,
                    "label": 1,
                    "cluster_id": 119
                },
                {
                    "name": "Oswego, US, US",
                    "long": -76.20870337323238,
                    "lat": 43.4638873971297,
                    "label": 1,
                    "cluster_id": 120
                },
                {
                    "name": "Ulster, US, US",
                    "long": -74.25856951631917,
                    "lat": 41.888145626801546,
                    "label": 1,
                    "cluster_id": 121
                },
                {
                    "name": "St. Lawrence, US, US",
                    "long": -75.06894688430828,
                    "lat": 44.49642196670626,
                    "label": 1,
                    "cluster_id": 122
                },
                {
                    "name": "Schuyler, US, US",
                    "long": -76.87517613122954,
                    "lat": 42.393798294968455,
                    "label": 1,
                    "cluster_id": 123
                },
                {
                    "name": "Essex, US, US",
                    "long": -73.7727094420613,
                    "lat": 44.11721752261526,
                    "label": 1,
                    "cluster_id": 124
                },
                {
                    "name": "Suffolk, US, US",
                    "long": -72.68527774341898,
                    "lat": 40.94044997975937,
                    "label": 1,
                    "cluster_id": 125
                },
                {
                    "name": "Hamilton, US, US",
                    "long": -74.49735513458019,
                    "lat": 43.66112162764525,
                    "label": 1,
                    "cluster_id": 126
                },
                {
                    "name": "Tak, Thailand, Aisa",
                    "long": 99.1199973026409,
                    "lat": 16.877997044179,
                    "label": 2,
                    "cluster_id": 127
                },
                {
                    "name": "Kemaman Harbor, Malaysia, Aisa",
                    "long": 103.466700310541,
                    "lat": 4.24999793403099,
                    "label": 2,
                    "cluster_id": 128
                },
                {
                    "name": "Cao Bang, Vietnam, Aisa",
                    "long": 106.268004381316,
                    "lat": 22.6639979828161,
                    "label": 2,
                    "cluster_id": 129
                },
                {
                    "name": "Nakhom Phanom, Thailand, Aisa",
                    "long": 104.716701318204,
                    "lat": 17.383302059032,
                    "label": 2,
                    "cluster_id": 130
                },
                {
                    "name": "Nanchang, China, Aisa",
                    "long": 115.889004390871,
                    "lat": 28.6710030100529,
                    "label": 2,
                    "cluster_id": 131
                },
                {
                    "name": "Nha Trang, Vietnam, Aisa",
                    "long": 109.203003362174,
                    "lat": 12.2429970106276,
                    "label": 2,
                    "cluster_id": 132
                },
                {
                    "name": "Kampong Thum, Cambodia, Aisa",
                    "long": 104.888997443049,
                    "lat": 12.7119960690697,
                    "label": 2,
                    "cluster_id": 133
                },
                {
                    "name": "Cheju, South Korea, Aisa",
                    "long": 126.533340288998,
                    "lat": 33.508196935647,
                    "label": 2,
                    "cluster_id": 134
                },
                {
                    "name": "Phangnga, Thailand, Aisa",
                    "long": 98.5339983185423,
                    "lat": 8.45100002689941,
                    "label": 2,
                    "cluster_id": 135
                },
                {
                    "name": "Pune, India, Aisa",
                    "long": 73.8522724138133,
                    "lat": 18.5357430029184,
                    "label": 2,
                    "cluster_id": 136
                },
                {
                    "name": "Samut Songkhram, Thailand, Aisa",
                    "long": 100.000998379289,
                    "lat": 13.4129969291252,
                    "label": 2,
                    "cluster_id": 137
                },
                {
                    "name": "Singapore, Singapore, Aisa",
                    "long": 103.831794330751,
                    "lat": 1.268855986133,
                    "label": 2,
                    "cluster_id": 138
                },
                {
                    "name": "Tuyen Quang, Vietnam, Aisa",
                    "long": 105.210999352958,
                    "lat": 21.8179980239273,
                    "label": 2,
                    "cluster_id": 139
                },
                {
                    "name": "Taipei, China, Aisa",
                    "long": 121.506723341781,
                    "lat": 25.0350930267656,
                    "label": 2,
                    "cluster_id": 140
                },
                {
                    "name": "Play Cu, Vietnam, Aisa",
                    "long": 108.016668386208,
                    "lat": 13.9500000079022,
                    "label": 2,
                    "cluster_id": 141
                },
                {
                    "name": "Chumphon, Thailand, Aisa",
                    "long": 99.1770034444788,
                    "lat": 10.4930010277635,
                    "label": 2,
                    "cluster_id": 142
                },
                {
                    "name": "Trat, Thailand, Aisa",
                    "long": 102.509001364046,
                    "lat": 12.237003027013,
                    "label": 2,
                    "cluster_id": 143
                },
                {
                    "name": "Nakhon Si Thammarat, Thailand, Aisa",
                    "long": 99.9649984021636,
                    "lat": 8.42200199435621,
                    "label": 2,
                    "cluster_id": 144
                },
                {
                    "name": "Kon Tum, Vietnam, Aisa",
                    "long": 108.015003289631,
                    "lat": 14.34999602116,
                    "label": 2,
                    "cluster_id": 145
                },
                {
                    "name": "Batdambang, Cambodia, Aisa",
                    "long": 103.203999304369,
                    "lat": 13.0889969695164,
                    "label": 2,
                    "cluster_id": 146
                },
                {
                    "name": "Ho Chi Minh City, Vietnam, Aisa",
                    "long": 106.662456361028,
                    "lat": 10.759184968507,
                    "label": 2,
                    "cluster_id": 147
                },
                {
                    "name": "Vishakhapatnam, India, Aisa",
                    "long": 83.3300013049034,
                    "lat": 17.749997961062,
                    "label": 2,
                    "cluster_id": 148
                },
                {
                    "name": "Kuala Lipis, Malaysia, Aisa",
                    "long": 102.042000355303,
                    "lat": 4.18400106499672,
                    "label": 2,
                    "cluster_id": 149
                },
                {
                    "name": "Urumqi, China, Aisa",
                    "long": 87.5870014131586,
                    "lat": 43.7830020311799,
                    "label": 2,
                    "cluster_id": 150
                },
                {
                    "name": "Kashi, China, Aisa",
                    "long": 75.9999962909039,
                    "lat": 39.4800029266686,
                    "label": 2,
                    "cluster_id": 151
                },
                {
                    "name": "Bangalore, India, Aisa",
                    "long": 77.5877314089752,
                    "lat": 12.9747510229139,
                    "label": 2,
                    "cluster_id": 152
                },
                {
                    "name": "Fangcheng Gang, China, Aisa",
                    "long": 108.35000129322,
                    "lat": 21.75000293971,
                    "label": 2,
                    "cluster_id": 153
                },
                {
                    "name": "Ipoh, Malaysia, Aisa",
                    "long": 101.076003396209,
                    "lat": 4.5909990228364,
                    "label": 2,
                    "cluster_id": 154
                },
                {
                    "name": "Kuantan New Port, Malaysia, Aisa",
                    "long": 103.333302443625,
                    "lat": 3.79999805448471,
                    "label": 2,
                    "cluster_id": 155
                },
                {
                    "name": "Sing Buri, Thailand, Aisa",
                    "long": 100.401003328664,
                    "lat": 14.8869989344533,
                    "label": 2,
                    "cluster_id": 156
                },
                {
                    "name": "Shenyang, China, Aisa",
                    "long": 123.383052363188,
                    "lat": 41.8021649490872,
                    "label": 2,
                    "cluster_id": 157
                },
                {
                    "name": "Brisbane, Australia, Aisa",
                    "long": 153.026001368553,
                    "lat": -27.453995931682,
                    "label": 2,
                    "cluster_id": 158
                },
                {
                    "name": "Nakhon Nayok, Thailand, Aisa",
                    "long": 101.215998434676,
                    "lat": 14.2000019635616,
                    "label": 2,
                    "cluster_id": 159
                },
                {
                    "name": "Chengdu, China, Aisa",
                    "long": 104.07099632637,
                    "lat": 30.6700019237266,
                    "label": 2,
                    "cluster_id": 160
                },
                {
                    "name": "Kolkata, India, Aisa",
                    "long": 88.3340014349536,
                    "lat": 22.5440009826105,
                    "label": 2,
                    "cluster_id": 161
                },
                {
                    "name": "T'aichung, China, Aisa",
                    "long": 120.670281388072,
                    "lat": 24.1436429809179,
                    "label": 2,
                    "cluster_id": 162
                },
                {
                    "name": "Cairns, Australia, Aisa",
                    "long": 145.710009345319,
                    "lat": -16.8499979993193,
                    "label": 2,
                    "cluster_id": 163
                },
                {
                    "name": "Kota Baharu, Malaysia, Aisa",
                    "long": 102.240000394974,
                    "lat": 6.1180019690023,
                    "label": 2,
                    "cluster_id": 164
                },
                {
                    "name": "T'ainan, China, Aisa",
                    "long": 120.209688403058,
                    "lat": 23.0159790778832,
                    "label": 2,
                    "cluster_id": 165
                },
                {
                    "name": "Ninh Binh, Vietnam, Aisa",
                    "long": 105.975000338466,
                    "lat": 20.2529970509368,
                    "label": 2,
                    "cluster_id": 166
                },
                {
                    "name": "Harbin, China, Aisa",
                    "long": 126.622998342571,
                    "lat": 45.7550009620097,
                    "label": 2,
                    "cluster_id": 167
                },
                {
                    "name": "Trang, Thailand, Aisa",
                    "long": 99.6149973190772,
                    "lat": 7.54900205262356,
                    "label": 2,
                    "cluster_id": 168
                },
                {
                    "name": "Phrae, Thailand, Aisa",
                    "long": 100.162998441835,
                    "lat": 18.1500030759209,
                    "label": 2,
                    "cluster_id": 169
                },
                {
                    "name": "Prey Veng, Cambodia, Aisa",
                    "long": 105.324003344699,
                    "lat": 11.4839999200021,
                    "label": 2,
                    "cluster_id": 170
                },
                {
                    "name": "Alice Springs, Australia, Aisa",
                    "long": 133.929990371524,
                    "lat": -23.6300040063453,
                    "label": 2,
                    "cluster_id": 171
                },
                {
                    "name": "Canberra, Australia, Aisa",
                    "long": 149.042007430369,
                    "lat": -35.3500020570017,
                    "label": 2,
                    "cluster_id": 172
                },
                {
                    "name": "Yasothon, Thailand, Aisa",
                    "long": 104.150997415535,
                    "lat": 15.7879980493631,
                    "label": 2,
                    "cluster_id": 173
                },
                {
                    "name": "Haiphong, Vietnam, Aisa",
                    "long": 106.679790443346,
                    "lat": 20.8613520499551,
                    "label": 2,
                    "cluster_id": 174
                },
                {
                    "name": "Krabi, Thailand, Aisa",
                    "long": 98.9119984093224,
                    "lat": 8.05200303849147,
                    "label": 2,
                    "cluster_id": 175
                },
                {
                    "name": "Thanh Hoa, Vietnam, Aisa",
                    "long": 105.777000298795,
                    "lat": 19.808999925639,
                    "label": 2,
                    "cluster_id": 176
                },
                {
                    "name": "Zhengzhou, China, Aisa",
                    "long": 113.641785284096,
                    "lat": 34.7576849439668,
                    "label": 2,
                    "cluster_id": 177
                },
                {
                    "name": "Kampot, Cambodia, Aisa",
                    "long": 104.182002433895,
                    "lat": 10.6059959179034,
                    "label": 2,
                    "cluster_id": 178
                },
                {
                    "name": "Nagpur, India, Aisa",
                    "long": 79.0891113618243,
                    "lat": 21.1557509545671,
                    "label": 2,
                    "cluster_id": 179
                },
                {
                    "name": "Taejon, South Korea, Aisa",
                    "long": 127.433997349184,
                    "lat": 36.3240000226938,
                    "label": 2,
                    "cluster_id": 180
                },
                {
                    "name": "Kowloon, China, Aisa",
                    "long": 114.230115436499,
                    "lat": 22.3799040766205,
                    "label": 2,
                    "cluster_id": 181
                },
                {
                    "name": "Kampong Spoe, Cambodia, Aisa",
                    "long": 104.5189983217,
                    "lat": 11.4519960422758,
                    "label": 2,
                    "cluster_id": 182
                },
                {
                    "name": "Lampang, Thailand, Aisa",
                    "long": 99.4840024403748,
                    "lat": 18.291995998604,
                    "label": 2,
                    "cluster_id": 183
                },
                {
                    "name": "Agartala, India, Aisa",
                    "long": 91.2666963868274,
                    "lat": 23.8167000599165,
                    "label": 2,
                    "cluster_id": 184
                },
                {
                    "name": "Senmonorom, Cambodia, Aisa",
                    "long": 107.199999412984,
                    "lat": 12.4499970445799,
                    "label": 2,
                    "cluster_id": 185
                },
                {
                    "name": "Uthai Thani, Thailand, Aisa",
                    "long": 100.026000312433,
                    "lat": 15.3790020418241,
                    "label": 2,
                    "cluster_id": 186
                },
                {
                    "name": "Tan An, Vietnam, Aisa",
                    "long": 106.413003314665,
                    "lat": 10.5309990545879,
                    "label": 2,
                    "cluster_id": 187
                },
                {
                    "name": "Seremban, Malaysia, Aisa",
                    "long": 101.950002362791,
                    "lat": 2.70800100996921,
                    "label": 2,
                    "cluster_id": 188
                },
                {
                    "name": "Pusan, South Korea, Aisa",
                    "long": 129.054987401444,
                    "lat": 35.1579960381113,
                    "label": 2,
                    "cluster_id": 189
                },
                {
                    "name": "Khon Kaen, Thailand, Aisa",
                    "long": 102.836997423054,
                    "lat": 16.4330010595152,
                    "label": 2,
                    "cluster_id": 190
                },
                {
                    "name": "Newcastle, Australia, Aisa",
                    "long": 151.779555446338,
                    "lat": -32.9279580695866,
                    "label": 2,
                    "cluster_id": 191
                },
                {
                    "name": "Hannover, Germany, Europe",
                    "long": 9.72900043126799,
                    "lat": 52.3860030001695,
                    "label": 2,
                    "cluster_id": 192
                },
                {
                    "name": "Duisburg, Germany, Europe",
                    "long": 6.77529931468138,
                    "lat": 51.4893329377807,
                    "label": 2,
                    "cluster_id": 193
                },
                {
                    "name": "Essen, Germany, Europe",
                    "long": 7.12243835788468,
                    "lat": 51.354045081995,
                    "label": 2,
                    "cluster_id": 194
                },
                {
                    "name": "Schwerin, Germany, Europe",
                    "long": 11.4166984358449,
                    "lat": 53.6333039764513,
                    "label": 2,
                    "cluster_id": 195
                },
                {
                    "name": "Stuttgart, Germany, Europe",
                    "long": 9.1819983333599,
                    "lat": 48.7899990702956,
                    "label": 2,
                    "cluster_id": 196
                },
                {
                    "name": "Magdeburg, Germany, Europe",
                    "long": 11.6090013695859,
                    "lat": 52.1299979592943,
                    "label": 2,
                    "cluster_id": 197
                },
                {
                    "name": "Dusseldorf, Germany, Europe",
                    "long": 6.79799738432445,
                    "lat": 51.2409960786986,
                    "label": 2,
                    "cluster_id": 198
                },
                {
                    "name": "Kiel, Germany, Europe",
                    "long": 10.1210044112117,
                    "lat": 54.3249990284235,
                    "label": 2,
                    "cluster_id": 199
                }
            ],
        }
    },
    mounted() {
        this.loadMapData();
    },
    methods: {
        loadMapData() {
            this.loadGraph(this.dataJson);
        },
        loadGraph(data) {
            debugger
            const width = 1600;
            const height = 800;
            const _K = 3;
            const _k = 8;
            const _a = _K > 100 ? 100 / _K : 1
            const thres = .6;
            const thres1 = thres;
            const thres2 = thres;
            // 
            const locinfo = {
                '1': { lat: 40.712776, long: -74.005974, city: '', name: '1' },
                '2': { lat: 34.052235, long: -118.243683, city: '', name: '2' },
                '3': { lat: 41.878113, long: -87.629799, city: '', name: '3' },
                '4': { lat: 29.760427, long: -95.369804, city: '', name: '4' }
                // 
            };

            const jnodes = [
                { 'id': '0', 'text': '1', 'name': '', 'val': 0.8, 'lat': 40.712776, 'lng': -74.005974 },
                { 'id': '1', 'text': '2', 'name': '', 'val': 0.6, 'lat': 34.052235, 'lng': -118.243683 },
                { 'id': '2', 'text': '3', 'name': '', 'val': 0.7, 'lat': 41.878113, 'lng': -87.629799 },
                { 'id': '3', 'text': '4', 'name': '', 'val': 0.5, 'lat': 29.760427, 'lng': -95.369804 }
                // 
            ];

            const jedges = [
                { 'source': '0', 'target': '1', 'val': 0.7 },
                { 'source': '1', 'target': '2', 'val': 0.6 },
                { 'source': '2', 'target': '3', 'val': 0.8 },
                { 'source': '3', 'target': '0', 'val': 0.9 }
                // 
            ];
            const ow = width / 2;
            const oh = height / 2;
            const _proj = (lng, lat) => [ow * (.9 + lng / 180), oh * (1 - lat / 90)];
            const simulation = d3.forceSimulation(jnodes)
                .alpha(_a)
                .force("link", d3.forceLink(jedges).id(d => d.id)
                    .distance(0)
                    .strength(1 / _k)
                )
                .force("charge", d3.forceManyBody()
                    .strength(-(_k ** 2))
                    .distanceMax(width / 10)
                )
                .force("geoforce", this.GeoForce(jnodes)
                    .projection(_proj)
                    .strength(_K / _k)
                )
                // .force("center", d3.forceCenter(ow, oh))
                // .force("x", d3.forceX())
                // .force("y", d3.forceY())
                .restart()
                .tick(2000)

            const svg = d3.select("svg")
                .attr("width", width)
                .attr("height", height);

            const link = svg.append("g")
                .attr("stroke", "#ccc")
                .attr("stroke-opacity", .5)
                .attr("stroke-width", .5)
                .selectAll("line")
                .data(jedges)
                .join("line");

            const node = svg.append("g")
                .attr("fill", "#fff")
                .selectAll("circle")
                .data(jnodes)
                .join("circle")
                .attr("fill", "#ccc")
                .attr("r", 15);

            node.append("title")
                .text(d => `${d.name}, (${d.lng}, ${d.lat})`);

            link
                .attr("x1", d => d.source.x)
                .attr("y1", d => d.source.y)
                .attr("x2", d => d.target.x)
                .attr("y2", d => d.target.y);

            node
                .attr("cx", d => d.x)
                .attr("cy", d => d.y);

            console.log(`Edge Length Variation: ${this.ELVar(jedges)}`);
            console.log(`Mean Geographical Offset: ${this.MeanGO(jnodes, _proj) / height}`);
        },
        GeoForce(nodes) {
            // 
            let fProj = (lng, lat) => [lng, lat];
            let K = 1;

            function force(alpha) {
                for (let node of nodes) {
                    let [x, y] = fProj(node.lng, node.lat);
                    let dx = x - node.x;
                    let dy = y - node.y;
                    let l = Math.sqrt(dx * dx + dy * dy);
                    node.vx += dx * K * alpha;
                    node.vy += dy * K * alpha;
                }
            }
            force.projection = function (_) {
                if (arguments.length && typeof _ === "function")
                    fProj = _;
                return force;
            }
            force.strength = function (_) {
                if (arguments.length && typeof _ === "number")
                    K = _;
                return force;
            }

            return force;
        },
        ELVar(edges) {
            let dists = edges.map(e => {
                let { x, y } = e.source;
                let dx = x - e.target.x;
                let dy = y - e.target.y;
                return Math.sqrt(dx * dx + dy * dy);
            });
            let n = dists.length;
            let u = dists.reduce((a, b) => a + b) / n;
            let sqvar = dists.map(d => (d - u) ** 2).reduce((a, b) => a + b) / (n * u * u);
            let l_a = Math.sqrt(sqvar);
            let M_l = l_a / Math.sqrt(n - 1);
            return M_l;
        },
        MeanGO(nodes, proj) {
            let dists = nodes.map(n => {
                let [x, y] = proj(n.lng, n.lat);
                let dx = x - n.x;
                let dy = y - n.y;
                return Math.sqrt(dx * dx + dy * dy);
            });
            let n = dists.length;
            let u = dists.reduce((a, b) => a + b) / n;
            return u;
        }
    },
};
</script>
  